# § 1045.110   How must my engines diagnose malfunctions?

The following engine-diagnostic requirements apply for engines equipped with three-way catalysts and closed-loop control of air-fuel ratios:


(a) *Equip your engines with a diagnostic system.* Equip each engine with a diagnostic system that will detect significant malfunctions in its emission control system using one of the following protocols:


(1) If your emission control strategy depends on maintaining air-fuel ratios at stoichiometry, an acceptable diagnostic design would identify a malfunction whenever the air-fuel ratio does not cross stoichiometry for one minute of intended closed-loop operation. You may use other diagnostic strategies if we approve them in advance.


(2) If the protocol described in paragraph (a)(1) of this section does not apply to your engine, you must use an alternative approach that we approve in advance. Your alternative approach must generally detect when the emission control system is not functioning properly.


(3) Diagnostic systems approved by the California Air Resources Board for use with sterndrive/inboard engines fully satisfy the requirements of this section.


(b) *Use a malfunction indicator.* The malfunction indicator must be designed such that the operator can readily see or hear it; visible signals may be any color except red. Visible malfunction indicators must display “Check Engine,” “Service Engine Soon,” or a similar message that we approve. The malfunction indicator must go on under each of the following circumstances:


(1) When a malfunction occurs, as described in paragraph (a) of this section.


(2) When the diagnostic system cannot send signals to meet the requirement of paragraph (b)(1) of this section.


(3) When the engine's ignition is in the “key-on” position before starting or cranking. The malfunction indicator should turn off after engine starting if the system detects no malfunction.


(c) *Control when the malfunction can turn off.* If the malfunction indicator goes on to show a malfunction, it must remain on during all later engine operation until servicing corrects the malfunction. If the engine is not serviced, but the malfunction does not recur for three consecutive engine starts during which the malfunctioning system is evaluated and found to be working properly, the malfunction indicator may stay off during later engine operation.


(d) *Store trouble codes in computer memory.* Record and store in computer memory any diagnostic trouble codes showing a malfunction that should activate the malfunction indicator. The stored codes must identify the malfunctioning system or component as uniquely as possible. Make these codes available through the data link connector as described in paragraph (g) of this section. You may store codes for conditions that do not activate the malfunction indicator. The system must store a separate code to show when the diagnostic system is disabled (from malfunction or tampering).


(e) *Make data, access codes, and devices accessible.* Make all required data accessible to us without any access codes or devices that only you can supply. Ensure that anyone servicing your engine can read and understand the diagnostic trouble codes stored in the onboard computer with generic tools and information.


(f) *Consider exceptions for certain conditions.* Your diagnostic systems may disregard trouble codes for the first three minutes after engine starting. You may ask us to approve diagnostic-system designs that disregard trouble codes under other conditions that would produce an unreliable reading, damage systems or components, or cause other safety risks.


(g) *Follow standard references for formats, codes, and connections.* Follow conventions defined in SAE J1939-05 (incorporated by reference in § 1045.810) or ask us to approve using updated versions of (or variations from) this standard.




