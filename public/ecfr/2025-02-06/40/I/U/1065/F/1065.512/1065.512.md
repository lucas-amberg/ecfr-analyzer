# § 1065.512   Duty cycle generation.

(a) Generate duty cycles according to this section if the standard-setting part requires engine mapping to generate a duty cycle for your engine configuration. The standard-setting part generally defines applicable duty cycles in a normalized format. A normalized duty cycle consists of a sequence of paired values for speed and torque or for speed and power.


(b) Transform normalized values of speed, torque, and power using the following conventions:


(1) *Engine speed for variable-speed engines.* For variable-speed engines, normalized speed may be expressed as a percentage between warm idle speed, ƒ_nidle,_ and maximum test speed, ƒ_ntest,_ or speed may be expressed by referring to a defined speed by name, such as “warm idle,” “intermediate speed,” or “A,” “B,” or “C” speed. Section 1065.610 describes how to transform these normalized values into a sequence of reference speeds, ƒ_nref._ Running duty cycles with negative or small normalized speed values near warm idle speed may cause low-speed idle governors to activate and the engine torque to exceed the reference torque even though the operator demand is at a minimum. In such cases, we recommend controlling the dynamometer so it gives priority to follow the reference torque instead of the reference speed and let the engine govern the speed. Note that the cycle-validation criteria in § 1065.514 allow an engine to govern itself. This allowance permits you to test engines with enhanced-idle devices and to simulate the effects of transmissions such as automatic transmissions. For example, an enhanced-idle device might be an idle speed value that is normally commanded only under cold-start conditions to quickly warm up the engine and aftertreatment devices. In this case, negative and very low normalized speeds will generate reference speeds below this higher enhanced-idle speed. You may do any of the following when using enhanced-idle devices:


(i) While running an engine where the ECM broadcasts an enhanced-idle speed that is above the denormalized speed, use the broadcast speed as the reference speed. Use these new reference points for duty-cycle validation. This does not affect how you determine denormalized reference torque in paragraph (b)(2) of this section.


(ii) If an ECM broadcast signal is not available, perform one or more practice cycles to determine the enhanced-idle speed as a function of cycle time. Generate the reference cycle as you normally would but replace any reference speed that is lower than the enhanced-idle speed with the enhanced-idle speed. This does not affect how you determine denormalized reference torque in paragraph (b)(2) of this section.




(2) *Engine torque for variable-speed engines.* For variable-speed engines, normalized torque is expressed as a percentage of the mapped torque at the corresponding reference speed. Section 1065.610 describes how to transform normalized torques into a sequence of reference torques, _T__ref_. Section 1065.610 also describes special requirements for modifying transient duty cycles for variable-speed engines intended primarily for propulsion of a vehicle with an automatic or manual transmission. Section 1065.610 also describes under what conditions you may command _T__ref_ greater than the reference torque you calculated from a normalized duty cycle, which permits you to command _T__ref_ values that are limited by a declared minimum torque. For any negative torque commands, command minimum operator demand and use the dynamometer to control engine speed to the reference speed, but if reference speed is so low that the idle governor activates, we recommend using the dynamometer to control torque to zero, CITT, or a declared minimum torque as appropriate. Note that you may omit power and torque points during motoring from the cycle-validation criteria in § 1065.514. Also, use the maximum mapped torque at the minimum mapped speed as the maximum torque for any reference speed at or below the minimum mapped speed.














(3) *Engine torque for constant-speed engines.* For constant-speed engines, normalized torque is expressed as a percentage of maximum test torque, *T*_test_. Section 1065.610 describes how to transform normalized torques into a sequence of reference torques, *T*_ref_. Section 1065.610 also describes under what conditions you may command *T*_ref_ greater than the reference torque you calculated from the normalized duty cycle. This provision permits you to command *T*_ref_ values that are limited by a declared minimum torque.


(4) *Engine power.* For all engines, normalized power is expressed as a percentage of mapped power at maximum test speed, *f*_ntest_, unless otherwise specified by the standard-setting part. Section 1065.610 describes how to transform these normalized values into a sequence of reference powers, *P*_ref_. Convert these reference powers to corresponding torques for operator demand and dynamometer control. Use the reference speed associated with each reference power point for this conversion. As with cycles specified with % torque, issue torque commands more frequently and linearly interpolate between these reference torque values generated from cycles with % power.


(5) *Ramped-modal cycles.* For ramped-modal cycles, generate reference speed and torque values at 1 Hz and use this sequence of points to run the cycle and validate it in the same manner as with a transient cycle. During the transition between modes, linearly ramp the denormalized reference speed and torque values between modes to generate reference points at 1 Hz. Do not linearly ramp the normalized reference torque values between modes and then denormalize them. Do not linearly ramp normalized or denormalized reference power points. These cases will produce nonlinear torque ramps in the denormalized reference torques. If the speed and torque ramp runs through a point above the engine's torque curve, continue to command the reference torques and allow the operator demand to go to maximum. Note that you may omit power and either torque or speed points from the cycle-validation criteria under these conditions as specified in § 1065.514.


(c) For variable-speed engines, command reference speeds and torques sequentially to perform a duty cycle. Issue speed and torque commands at a frequency of at least 5 Hz for transient cycles and at least 1 Hz for steady-state cycles (*i.e.*, discrete-mode and ramped-modal). Linearly interpolate between the 1 Hz reference values specified in the standard-setting part to determine more frequently issued reference speeds and torques. During an emission test, record the feedback speeds and torques at a frequency of at least 5 Hz for transient cycles and at least 1 Hz for steady-state cycles. For transient cycles, you may record the feedback speeds and torques at lower frequencies (as low as 1 Hz) if you record the average value over the time interval between recorded values. Calculate the average values based on feedback values updated at a frequency of at least 5 Hz. Use these recorded values to calculate cycle-validation statistics and total work.


(d) For constant-speed engines, operate the engine with the same production governor you used to map the engine in § 1065.510 or simulate the in-use operation of a governor the same way you simulated it to map the engine in § 1065.510. Command reference torque values sequentially to perform a duty cycle. Issue torque commands at a frequency of at least 5 Hz for transient cycles and at least 1 Hz for steady-state cycles (*i.e.*, discrete-mode, ramped-modal). Linearly interpolate between the 1 Hz reference values specified in the standard-setting part to determine more frequently issued reference torque values. During an emission test, record the feedback speeds and torques at a frequency of at least 5 Hz for transient cycles and at least 1 Hz for steady-state cycles. For transient cycles, you may record the feedback speeds and torques at lower frequencies (as low as 1 Hz) if you record the average value over the time interval between recorded values. Calculate the average values based on feedback values updated at a frequency of at least 5 Hz. Use these recorded values to calculate cycle-validation statistics and total work.


(e) You may perform practice duty cycles with the test engine to optimize operator demand and dynamometer controls to meet the cycle-validation criteria specified in § 1065.514.



---

[N] [73 FR 37317, June 30, 2008, as amended at 79 FR 23774, Apr. 28, 2014; 86 FR 34546, June 29, 2021; 88 FR 4678, Jan. 24, 2023; 89 FR 29805, Apr. 22, 2024]




